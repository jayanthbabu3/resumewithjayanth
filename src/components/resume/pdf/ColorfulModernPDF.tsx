import {Page,Text,View,Document,StyleSheet} from "@/lib/pdfRenderer";
import type{ResumeData}from"@/pages/Editor";
import{PDF_PAGE_MARGINS}from"@/lib/pdfConfig";
interface ColorfulModernPDFProps{resumeData:ResumeData;themeColor?:string}
const createStyles=(c:string,c2:string,c3:string,c4:string,c5:string)=>StyleSheet.create({page:{fontFamily:"Inter",fontSize:10,backgroundColor:"#f9fafb",padding:PDF_PAGE_MARGINS},header:{backgroundColor:c,padding:20,borderRadius:16,marginBottom:20,color:"#fff"},name:{fontSize:38,fontWeight:700,marginBottom:8},title:{fontSize:14,fontWeight:500,opacity:0.9,marginBottom:15},contactChips:{flexDirection:"row",flexWrap:"wrap",gap:10,fontSize:9},chip:{paddingHorizontal:12,paddingVertical:6,backgroundColor:"rgba(255,255,255,0.2)",backdropFilter:"blur(4px)",borderRadius:16},card:{backgroundColor:"#fff",padding:15,borderRadius:16,marginBottom:20},sectionTitle:{fontSize:16,fontWeight:700,color:c,marginBottom:12},summary:{fontSize:11,color:"#4b5563",lineHeight:1.6},skillsGrid:{flexDirection:"row",flexWrap:"wrap",gap:8},skillCard:{flex:"0 0 18%",paddingHorizontal:8,paddingVertical:10,borderRadius:10,color:"#fff",fontSize:9,fontWeight:700,textAlign:"center"},experienceCard:{backgroundColor:"#fff",padding:15,borderRadius:16,borderLeftWidth:8,marginBottom:15},position:{fontSize:14,fontWeight:700},company:{fontSize:12,fontWeight:500,marginTop:4},dateRangeBadge:{paddingHorizontal:10,paddingVertical:5,borderRadius:16,color:"#fff",fontSize:9,fontWeight:700},description:{fontSize:10,color:"#4b5563",lineHeight:1.6,marginTop:8},descriptionItem:{marginBottom:2,paddingLeft:10},educationGrid:{flexDirection:"row",flexWrap:"wrap",gap:12},educationCard:{flex:"0 0 48%",backgroundColor:"#fff",padding:12,borderRadius:16}});
export const ColorfulModernPDF=({resumeData,themeColor="#10b981"}:ColorfulModernPDFProps)=>{const colors=[themeColor,"#3b82f6","#ec4899","#f59e0b","#8b5cf6"];const s=createStyles(colors[0],colors[1],colors[2],colors[3],colors[4]);const{personalInfo,experience,education,skills,sections}=resumeData;return(<Document><Page size="A4"style={s.page}><View style={s.header}><Text style={s.name}>{personalInfo.fullName}</Text>{personalInfo.title&&<Text style={s.title}>{personalInfo.title}</Text>}<View style={s.contactChips}>{personalInfo.email&&<Text style={s.chip}>{personalInfo.email}</Text>}{personalInfo.phone&&<Text style={s.chip}>{personalInfo.phone}</Text>}{personalInfo.location&&<Text style={s.chip}>{personalInfo.location}</Text>}</View></View>{personalInfo.summary&&<View style={s.card}><Text style={s.sectionTitle}>About Me</Text><Text style={s.summary}>{personalInfo.summary}</Text></View>}{skills&&skills.length>0&&<View style={s.card}><Text style={s.sectionTitle}>Skills</Text><View style={s.skillsGrid}>{skills.map((skill,i)=><Text key={i}style={[s.skillCard,{backgroundColor:colors[i%colors.length]}]}>{skill.name}</Text>)}</View></View>}{experience&&experience.length>0&&(<><Text style={{fontSize:16,fontWeight:700,color:themeColor,marginBottom:12}}>Experience</Text>{experience.map((exp,i)=><View key={i}style={[s.experienceCard,{borderLeftColor:colors[i%colors.length]}]}><View style={{flexDirection:'row',justifyContent:'space-between',marginBottom:8}}><View style={{flex:1}}><Text style={s.position}>{exp.position}</Text><Text style={[s.company,{color:colors[i%colors.length]}]}>{exp.company}</Text></View><Text style={[s.dateRangeBadge,{backgroundColor:colors[i%colors.length]}]}>{exp.startDate}-{exp.endDate||"Present"}</Text></View>{exp.description&&<View style={s.description}>{exp.description.split("\n").map((item,j)=><Text key={j}style={s.descriptionItem}>â€¢ {item}</Text>)}</View>}</View>)}</>)}{education&&education.length>0&&<View style={s.card}><Text style={s.sectionTitle}>Education</Text><View style={s.educationGrid}>{education.map((edu,i)=><View key={i}style={[s.educationCard,{borderTopWidth:6,borderTopColor:colors[(i+1)%colors.length]}]}><Text style={s.position}>{edu.degree}</Text><Text style={[s.company,{color:"#4b5563"}]}>{edu.institution}</Text><Text style={[s.dateRangeBadge,{backgroundColor:colors[(i+1)%colors.length],marginTop:4,display:"inline-flex"}]}>{edu.graduationDate}</Text></View>)}</View></View>}{sections&&sections.map((sec,i)=><View key={i}style={s.card}><Text style={s.sectionTitle}>{sec.title}</Text><Text style={s.summary}>{sec.content}</Text></View>)}</Page></Document>)};
export default ColorfulModernPDF;