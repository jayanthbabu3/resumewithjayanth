import {Page,Text,View,Document,StyleSheet} from "@/lib/pdfRenderer";
import type{ResumeData}from"@/pages/Editor";
import{PDF_PAGE_MARGINS}from"@/lib/pdfConfig";
interface GitHubStylePDFProps{resumeData:ResumeData;themeColor?:string}
const createStyles=(c:string)=>StyleSheet.create({page:{fontFamily:"Inter",fontSize:10,backgroundColor:"#fff"},header:{borderBottomWidth:1,borderBottomColor:"#d1d5db",padding:25},name:{fontSize:36,fontWeight:600,marginBottom:6},title:{fontSize:14,color:"#6b7280",marginBottom:10},contactInfo:{flexDirection:"row",flexWrap:"wrap",gap:10,fontSize:14,color:"#6b7280"},content:{padding:25},section:{marginBottom:20},sectionTitle:{fontSize:24,fontWeight:600,marginBottom:12,flexDirection:"row",alignItems:"center",gap:6},arrow:{color:c},summaryBox:{padding:10,border:"1px solid #d1d5db",borderRadius:6,backgroundColor:"#f9fafb"},card:{padding:12,border:"1px solid #d1d5db",borderRadius:6,marginBottom:12},position:{fontSize:18,fontWeight:600},company:{fontSize:14,fontWeight:500,color:c,marginTop:2},dateRangeBadge:{fontSize:14,color:"#6b7280",backgroundColor:"#f3f4f6",paddingHorizontal:6,paddingVertical:3,borderRadius:4},description:{fontSize:14,color:"#4b5563",lineHeight:1.5,marginTop:6},descriptionItem:{marginBottom:2,paddingLeft:10},skillTag:{fontSize:14,paddingHorizontal:8,paddingVertical:4,border:"1px solid #d1d5db",borderRadius:12,backgroundColor:"#f9fafb",color:"#4b5563"}});
export const GitHubStylePDF=({resumeData,themeColor="#238636"}:GitHubStylePDFProps)=>{const s=createStyles(themeColor);const{personalInfo,experience,education,skills,sections}=resumeData;return(<Document><Page size="A4"style={s.page}><View style={s.header}><Text style={s.name}>{personalInfo.fullName}</Text>{personalInfo.title&&<Text style={s.title}>{personalInfo.title}</Text>}<View style={s.contactInfo}>{personalInfo.email&&<Text>üìß {personalInfo.email}</Text>}{personalInfo.location&&<Text>üìç {personalInfo.location}</Text>}{personalInfo.phone&&<Text>üìû {personalInfo.phone}</Text>}</View></View><View style={s.content}>{personalInfo.summary&&<View style={s.section}><Text style={s.summaryBox}>{personalInfo.summary}</Text></View>}{experience&&experience.length>0&&<View style={s.section}><View style={{flexDirection:'row',alignItems:'center',gap:6,marginBottom:12}}><Text style={s.arrow}>‚ñ∂</Text><Text style={{fontSize:24,fontWeight:600}}>Experience</Text></View>{experience.map((exp,i)=><View key={i}style={s.card}><View style={{flexDirection:'row',justifyContent:'space-between',marginBottom:6}}><View style={{flex:1}}><Text style={s.position}>{exp.position}</Text><Text style={s.company}>{exp.company}</Text></View><Text style={s.dateRangeBadge}>{exp.startDate}-{exp.endDate||"Present"}</Text></View>{exp.description&&<View style={s.description}>{exp.description.split("\n").map((item,j)=><Text key={j}style={s.descriptionItem}>‚Ä¢ {item}</Text>)}</View>}</View>)}</View>}{skills&&skills.length>0&&<View style={s.section}><View style={{flexDirection:'row',alignItems:'center',gap:6,marginBottom:12}}><Text style={s.arrow}>‚ñ∂</Text><Text style={{fontSize:24,fontWeight:600}}>Skills</Text></View><View style={{flexDirection:'row',flexWrap:'wrap',gap:4}}>{skills.map((skill,i)=><Text key={i}style={s.skillTag}>{skill.name}</Text>)}</View></View>}{education&&education.length>0&&<View style={s.section}><View style={{flexDirection:'row',alignItems:'center',gap:6,marginBottom:12}}><Text style={s.arrow}>‚ñ∂</Text><Text style={{fontSize:24,fontWeight:600}}>Education</Text></View>{education.map((edu,i)=><View key={i}style={s.card}><View style={{flexDirection:'row',justifyContent:'space-between'}}><View><Text style={s.position}>{edu.degree}</Text><Text style={[s.company,{color:"#4b5563"}]}>{edu.institution}</Text></View><Text style={s.dateRangeBadge}>{edu.graduationDate}</Text></View></View>)}</View>}{sections&&sections.map((sec,i)=><View key={i}style={s.section}><View style={{flexDirection:'row',alignItems:'center',gap:6,marginBottom:12}}><Text style={s.arrow}>‚ñ∂</Text><Text style={{fontSize:24,fontWeight:600}}>{sec.title}</Text></View><View style={s.card}><Text style={s.description}>{sec.content}</Text></View></View>)}</View></Page></Document>)};
export default GitHubStylePDF;