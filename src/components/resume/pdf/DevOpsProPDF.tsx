import {Page,Text,View,Document,StyleSheet} from "@react-pdf/renderer";
import type{ResumeData}from"@/pages/Editor";
import{PDF_PAGE_MARGINS}from"@/lib/pdfConfig";
interface DevOpsProPDFProps{resumeData:ResumeData;themeColor?:string}
const createStyles=(c:string)=>StyleSheet.create({page:{fontFamily:"Courier",fontSize:9,backgroundColor:"#1a1a1a",color:"#f3f4f6",padding:PDF_PAGE_MARGINS},header:{marginBottom:15,paddingBottom:10,borderBottomWidth:2,borderBottomColor:"#374151"},dots:{flexDirection:"row",gap:4,marginBottom:8},dot:{width:6,height:6,borderRadius:3},pathLine:{fontSize:8,color:"#9ca3af",marginBottom:8},name:{fontSize:26,fontWeight:700,color:c,marginBottom:8},echoLine:{fontSize:11,marginBottom:10},echoLabel:{color:"#9ca3af"},contactInfo:{fontSize:8,color:"#d1d5db"},contactItem:{marginBottom:2},contactLabel:{color:"#9ca3af"},section:{marginBottom:15},sectionComment:{fontSize:8,color:c,marginBottom:8},arrayLine:{fontSize:8,color:"#9ca3af"},skillItem:{flexDirection:"row",alignItems:"center",gap:8,padding:6,backgroundColor:"#374151",borderLeftWidth:4,borderLeftColor:c,marginBottom:4,borderRadius:2},skillDot:{width:4,height:4,borderRadius:2,backgroundColor:c},skillText:{fontSize:9},card:{padding:10,backgroundColor:"#374151",borderLeftWidth:4,borderLeftColor:c,borderRadius:4,marginBottom:12},position:{fontSize:11,fontWeight:700,color:c},company:{fontSize:10,color:"#f3f4f6",marginTop:2},dateRange:{fontSize:8,color:"#9ca3af",marginTop:2},description:{fontSize:9,color:"#f3f4f6",lineHeight:1.5,marginTop:6},descriptionItem:{marginBottom:2,paddingLeft:10},arrow:{color:c}});
export const DevOpsProPDF=({resumeData,themeColor="#dc2626"}:DevOpsProPDFProps)=>{const s=createStyles(themeColor);const{personalInfo,experience,education,skills,sections}=resumeData;return(<Document><Page size="A4"style={s.page}><View style={s.header}><View style={s.dots}><View style={[s.dot,{backgroundColor:"#dc2626"}]}/><View style={[s.dot,{backgroundColor:"#eab308"}]}/><View style={[s.dot,{backgroundColor:themeColor}]}/></View><Text style={s.pathLine}>~/resume/profile</Text><Text style={s.name}>{personalInfo.fullName}</Text>{personalInfo.title&&<Text style={s.echoLine}><Text style={s.echoLabel}>$ echo </Text>"{personalInfo.title}"</Text>}<View style={s.contactInfo}>{personalInfo.email&&<Text style={s.contactItem}><Text style={s.contactLabel}>email: </Text>{personalInfo.email}</Text>}{personalInfo.phone&&<Text style={s.contactItem}><Text style={s.contactLabel}>phone: </Text>{personalInfo.phone}</Text>}{personalInfo.location&&<Text style={s.contactItem}><Text style={s.contactLabel}>location: </Text>{personalInfo.location}</Text>}</View></View>{personalInfo.summary&&<View style={s.section}><Text style={s.sectionComment}>## PROFILE</Text><Text style={[s.description,{fontSize:10}]}>{personalInfo.summary}</Text></View>}{skills&&skills.length>0&&<View style={s.section}><Text style={s.sectionComment}>## SKILLS & TOOLS</Text>{skills.map((skill,i)=><View key={i}style={s.skillItem}><View style={s.skillDot}/><Text style={s.skillText}>{skill.name}</Text></View>)}</View>}{experience&&experience.length>0&&<View style={s.section}><Text style={s.sectionComment}>## EXPERIENCE</Text>{experience.map((exp,i)=><View key={i}style={s.card}><Text style={s.position}>{exp.position}</Text><Text style={s.company}>{exp.company}</Text><Text style={s.dateRange}>[{exp.startDate}-{exp.endDate||"Present"}]</Text>{exp.description&&<View style={s.description}>{exp.description.split("\n").map((item,j)=><Text key={j}style={s.descriptionItem}><Text style={s.arrow}>â€º </Text>{item}</Text>)}</View>}</View>)}</View>}{education&&education.length>0&&<View style={s.section}><Text style={s.sectionComment}>## EDUCATION</Text>{education.map((edu,i)=><View key={i}style={[s.card,{paddingVertical:8}]}><Text style={s.position}>{edu.degree}</Text><Text style={s.company}>{edu.institution}</Text><Text style={s.dateRange}>[{edu.graduationDate}]</Text></View>)}</View>}{sections&&sections.map((sec,i)=><View key={i}style={s.section}><Text style={s.sectionComment}>## {sec.title.toUpperCase()}</Text><Text style={s.description}>{sec.content}</Text></View>)}</Page></Document>)};
export default DevOpsProPDF;