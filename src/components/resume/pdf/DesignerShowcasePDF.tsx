import {Page,Text,View,Document,StyleSheet} from "@react-pdf/renderer";
import type{ResumeData}from"@/pages/Editor";
import{PDF_PAGE_MARGINS}from"@/lib/pdfConfig";
interface DesignerShowcasePDFProps{resumeData:ResumeData;themeColor?:string}
const createStyles=(c:string)=>StyleSheet.create({page:{fontFamily:"Inter",fontSize:10,backgroundColor:"#f9fafb",padding:PDF_PAGE_MARGINS},header:{backgroundColor:"#fff",padding:20,borderRadius:12,marginBottom:20,flexDirection:"row",alignItems:"center",gap:20},avatar:{width:60,height:60,borderRadius:30,backgroundColor:c,color:"#fff",fontSize:28,fontWeight:700,textAlign:"center",paddingTop:14},headerText:{flex:1},name:{fontSize:36,fontWeight:700,marginBottom:6},title:{fontSize:14,color:c,marginBottom:10},contactInfo:{flexDirection:"row",flexWrap:"wrap",gap:10,fontSize:9,color:"#6b7280"},contactItem:{flexDirection:"row",alignItems:"center",gap:4},contactDot:{width:4,height:4,borderRadius:2,backgroundColor:c},card:{backgroundColor:"#fff",padding:15,borderRadius:12,marginBottom:20},bar:{width:40,height:2,borderRadius:1,backgroundColor:c,marginBottom:8},sectionTitle:{fontSize:16,fontWeight:700,color:c,marginBottom:12},summary:{fontSize:11,color:"#4b5563",lineHeight:1.6},skillsGrid:{flexDirection:"row",flexWrap:"wrap",gap:8},skillCard:{flex:"0 0 18%",padding:10,borderRadius:10,textAlign:"center",backgroundColor:"#f9fafb"},skillDot:{width:6,height:6,borderRadius:3,backgroundColor:c,marginBottom:6,marginLeft:"auto",marginRight:"auto"},skillText:{fontSize:9,fontWeight:600},experienceCard:{flexDirection:"row",alignItems:"flex-start",gap:12,marginBottom:15},numberBox:{width:40,height:40,borderRadius:8,backgroundColor:c,color:"#fff",fontSize:18,fontWeight:700,textAlign:"center",paddingTop:8},experienceContent:{flex:1},position:{fontSize:14,fontWeight:700},company:{fontSize:12,fontWeight:500,color:c,marginTop:2},dateRange:{fontSize:9,color:"#9ca3af",marginTop:2},description:{fontSize:9,color:"#4b5563",lineHeight:1.5,marginTop:6},descriptionItem:{marginBottom:2,paddingLeft:10},educationGrid:{flexDirection:"row",flexWrap:"wrap",gap:12},educationCard:{flex:"0 0 48%",padding:12,backgroundColor:"#f9fafb",borderRadius:10}});
export const DesignerShowcasePDF=({resumeData,themeColor="#8b5cf6"}:DesignerShowcasePDFProps)=>{const s=createStyles(themeColor);const{personalInfo,experience,education,skills,sections}=resumeData;return(<Document><Page size="A4"style={s.page}><View style={s.header}><Text style={s.avatar}>{personalInfo.fullName.charAt(0)}</Text><View style={s.headerText}><Text style={s.name}>{personalInfo.fullName}</Text>{personalInfo.title&&<Text style={s.title}>{personalInfo.title}</Text>}<View style={s.contactInfo}>{personalInfo.email&&<View style={s.contactItem}><View style={s.contactDot}/><Text>{personalInfo.email}</Text></View>}{personalInfo.phone&&<View style={s.contactItem}><View style={s.contactDot}/><Text>{personalInfo.phone}</Text></View>}{personalInfo.location&&<View style={s.contactItem}><View style={s.contactDot}/><Text>{personalInfo.location}</Text></View>}</View></View></View>{personalInfo.summary&&<View style={s.card}><View style={s.bar}/><Text style={s.sectionTitle}>Creative Profile</Text><Text style={s.summary}>{personalInfo.summary}</Text></View>}{skills&&skills.length>0&&<View style={s.card}><View style={s.bar}/><Text style={s.sectionTitle}>Skills & Expertise</Text><View style={s.skillsGrid}>{skills.map((skill,i)=><View key={i}style={s.skillCard}><View style={s.skillDot}/><Text style={s.skillText}>{skill.name}</Text></View>)}</View></View>}{experience&&experience.length>0&&<View style={s.card}><View style={s.bar}/><Text style={s.sectionTitle}>Work Experience</Text>{experience.map((exp,i)=><View key={i}style={s.experienceCard}><Text style={s.numberBox}>{i+1}</Text><View style={s.experienceContent}><Text style={s.position}>{exp.position}</Text><Text style={s.company}>{exp.company}</Text><Text style={s.dateRange}>{exp.startDate}-{exp.endDate||"Present"}</Text>{exp.description&&<View style={s.description}>{exp.description.split("\n").map((item,j)=><Text key={j}style={s.descriptionItem}>â€¢ {item}</Text>)}</View>}</View></View>)}</View>}{education&&education.length>0&&<View style={s.card}><View style={s.bar}/><Text style={s.sectionTitle}>Education</Text><View style={s.educationGrid}>{education.map((edu,i)=><View key={i}style={s.educationCard}><Text style={s.position}>{edu.degree}</Text><Text style={[s.company,{color:"#4b5563"}]}>{edu.institution}</Text><Text style={s.dateRange}>{edu.graduationDate}</Text></View>)}</View></View>}{sections&&sections.map((sec,i)=><View key={i}style={s.card}><View style={s.bar}/><Text style={s.sectionTitle}>{sec.title}</Text><Text style={s.summary}>{sec.content}</Text></View>)}</Page></Document>)};
export default DesignerShowcasePDF;