import {Page,Text,View,Document,StyleSheet} from "@react-pdf/renderer";
import type{ResumeData}from"@/pages/Editor";
import{PDF_PAGE_MARGINS}from"@/lib/pdfConfig";
interface TerminalThemePDFProps{resumeData:ResumeData;themeColor?:string}
const createStyles=(c:string)=>StyleSheet.create({page:{fontFamily:"Courier",fontSize:9,backgroundColor:"#1a1a1a",color:"#22c55e",padding:PDF_PAGE_MARGINS},header:{marginBottom:15,paddingBottom:10,borderBottomWidth:1,borderBottomColor:"#22c55e30"},prompt:{fontSize:8,color:"#22c55e60",marginBottom:8},name:{fontSize:26,fontWeight:700,color:c,marginBottom:6},roleLine:{fontSize:11,marginBottom:8},roleLabel:{color:"#22c55e60"},contactInfo:{fontSize:8,color:"#22c55e80"},contactItem:{marginBottom:2},contactLabel:{color:"#22c55e60"},section:{marginBottom:15},sectionPrompt:{fontSize:8,color:"#22c55e60",marginBottom:8},summary:{fontSize:9,color:"#22c55e90",lineHeight:1.5},skillItem:{fontSize:9,marginBottom:2,paddingLeft:12},skillArrow:{color:c},card:{padding:10,borderLeftWidth:2,borderLeftColor:"#22c55e30",marginBottom:12},position:{fontSize:11,fontWeight:700,color:c},company:{fontSize:10,color:"#22c55e80",marginTop:2},dateRange:{fontSize:8,color:"#22c55e60",marginTop:2},description:{fontSize:9,color:"#22c55e90",lineHeight:1.5,marginTop:6},descriptionItem:{marginBottom:2,paddingLeft:10},prompt2:{color:c}});
export const TerminalThemePDF=({resumeData,themeColor="#00ff00"}:TerminalThemePDFProps)=>{const s=createStyles(themeColor);const{personalInfo,experience,education,skills,sections}=resumeData;return(<Document><Page size="A4"style={s.page}><View style={s.header}><Text style={s.prompt}>$ whoami</Text><Text style={s.name}>{personalInfo.fullName}</Text>{personalInfo.title&&<Text style={s.roleLine}><Text style={s.roleLabel}>role@system:~$ </Text>{personalInfo.title}</Text>}<View style={s.contactInfo}>{personalInfo.email&&<Text style={s.contactItem}><Text style={s.contactLabel}>email: </Text>{personalInfo.email}</Text>}{personalInfo.phone&&<Text style={s.contactItem}><Text style={s.contactLabel}>phone: </Text>{personalInfo.phone}</Text>}{personalInfo.location&&<Text style={s.contactItem}><Text style={s.contactLabel}>location: </Text>{personalInfo.location}</Text>}</View></View>{personalInfo.summary&&<View style={s.section}><Text style={s.sectionPrompt}>$ cat about.txt</Text><Text style={s.summary}>{personalInfo.summary}</Text></View>}{skills&&skills.length>0&&<View style={s.section}><Text style={s.sectionPrompt}>$ ls skills/</Text>{skills.map((skill,i)=><Text key={i}style={s.skillItem}><Text style={s.skillArrow}>â–¸ </Text>{skill.name}</Text>)}</View>}{experience&&experience.length>0&&<View style={s.section}><Text style={s.sectionPrompt}>$ cat experience.log</Text>{experience.map((exp,i)=><View key={i}style={s.card}><Text style={s.position}>{exp.position}</Text><Text style={s.company}>{exp.company}</Text><Text style={s.dateRange}>[{exp.startDate}-{exp.endDate||"Present"}]</Text>{exp.description&&<View style={s.description}>{exp.description.split("\n").map((item,j)=><Text key={j}style={s.descriptionItem}><Text style={s.prompt2}>$ </Text>{item}</Text>)}</View>}</View>)}</View>}{education&&education.length>0&&<View style={s.section}><Text style={s.sectionPrompt}>$ cat education.txt</Text>{education.map((edu,i)=><View key={i}style={{marginBottom:8}}><Text style={s.position}>{edu.degree}</Text><Text style={s.company}>{edu.institution}</Text><Text style={s.dateRange}>[{edu.graduationDate}]</Text></View>)}</View>}{sections&&sections.map((sec,i)=><View key={i}style={s.section}><Text style={s.sectionPrompt}>$ cat {sec.title.toLowerCase().replace(/\s+/g,'_')}.txt</Text><Text style={s.summary}>{sec.content}</Text></View>)}</Page></Document>)};
export default TerminalThemePDF;