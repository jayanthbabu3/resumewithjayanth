import {Page,Text,View,Document,StyleSheet} from "@/lib/pdfRenderer";
import type{ResumeData}from"@/pages/Editor";
import{PDF_PAGE_MARGINS}from"@/lib/pdfConfig";
interface FullStackModernPDFProps{resumeData:ResumeData;themeColor?:string}
const createStyles=(c:string)=>StyleSheet.create({page:{fontFamily:"Inter",fontSize:14,backgroundColor:"#f3f4f6",padding:PDF_PAGE_MARGINS},header:{backgroundColor:"#fff",padding:20,borderRadius:12,marginBottom:15,borderLeftWidth:4,borderLeftColor:c},name:{fontSize:36,fontWeight:700,marginBottom:6},title:{fontSize:14,fontWeight:500,color:c,marginBottom:12},contactChips:{flexDirection:"row",flexWrap:"wrap",gap:6},chip:{paddingHorizontal:10,paddingVertical:5,backgroundColor:"#f3f4f6",borderRadius:12,fontSize:14},card:{backgroundColor:"#fff",padding:15,borderRadius:12,marginBottom:15},sectionTitle:{fontSize:24,fontWeight:700,color:c,marginBottom:12},summary:{fontSize:14,color:"#4b5563",lineHeight:1.6},skillsContainer:{flexDirection:"row",flexWrap:"wrap",gap:4},skillChip:{paddingHorizontal:10,paddingVertical:5,backgroundColor:c,color:"#fff",borderRadius:6,fontSize:14,fontWeight:500},position:{fontSize:16,fontWeight:700},company:{fontSize:14,fontWeight:500,color:c,marginTop:2},dateRangeBadge:{paddingHorizontal:8,paddingVertical:4,backgroundColor:"#f3f4f6",borderRadius:6,fontSize:14,color:"#6b7280"},description:{fontSize:14,color:"#4b5563",lineHeight:1.5,marginTop:8},descriptionItem:{marginBottom:3,paddingLeft:10}});
export const FullStackModernPDF=({resumeData,themeColor="#06b6d4"}:FullStackModernPDFProps)=>{const s=createStyles(themeColor);const{personalInfo,experience,education,skills,sections}=resumeData;return(<Document><Page size="A4"style={s.page}><View style={s.header}><Text style={s.name}>{personalInfo.fullName}</Text>{personalInfo.title&&<Text style={s.title}>{personalInfo.title}</Text>}<View style={s.contactChips}>{personalInfo.email&&<Text style={s.chip}>{personalInfo.email}</Text>}{personalInfo.phone&&<Text style={s.chip}>{personalInfo.phone}</Text>}{personalInfo.location&&<Text style={s.chip}>{personalInfo.location}</Text>}</View></View>{personalInfo.summary&&<View style={s.card}><Text style={s.sectionTitle}>About Me</Text><Text style={s.summary}>{personalInfo.summary}</Text></View>}{skills&&skills.length>0&&<View style={s.card}><Text style={s.sectionTitle}>Tech Stack</Text><View style={s.skillsContainer}>{skills.map((skill,i)=><Text key={i}style={s.skillChip}>{skill.name}</Text>)}</View></View>}{experience&&experience.length>0&&(<><Text style={{fontSize:16,fontWeight:700,color:themeColor,marginBottom:12}}>Experience</Text>{experience.map((exp,i)=><View key={i}style={s.card}><View style={{flexDirection:'row',justifyContent:'space-between',marginBottom:6}}><View style={{flex:1}}><Text style={s.position}>{exp.position}</Text><Text style={s.company}>{exp.company}</Text></View><Text style={s.dateRangeBadge}>{exp.startDate}-{exp.endDate||"Present"}</Text></View>{exp.description&&<View style={s.description}>{exp.description.split("\n").map((item,j)=><Text key={j}style={s.descriptionItem}>â€¢ {item}</Text>)}</View>}</View>)}</>)}{education&&education.length>0&&<View style={s.card}><Text style={s.sectionTitle}>Education</Text>{education.map((edu,i)=><View key={i}style={{marginBottom:i<education.length-1?10:0}}><Text style={s.position}>{edu.degree}</Text><Text style={[s.company,{color:"#4b5563"}]}>{edu.institution}</Text><Text style={{fontSize:14,color:"#6b7280",marginTop:2}}>{edu.graduationDate}</Text></View>)}</View>}{sections&&sections.map((sec,i)=><View key={i}style={s.card}><Text style={s.sectionTitle}>{sec.title}</Text><Text style={s.summary}>{sec.content}</Text></View>)}</Page></Document>)};
export default FullStackModernPDF;