import {Page,Text,View,Document,StyleSheet} from "@react-pdf/renderer";
import type{ResumeData}from"@/pages/Editor";
import{PDF_PAGE_MARGINS}from"@/lib/pdfConfig";
interface DeveloperGridPDFProps{resumeData:ResumeData;themeColor?:string}
const createStyles=(c:string)=>StyleSheet.create({page:{fontFamily:"Inter",fontSize:10,backgroundColor:"#f9fafb",padding:PDF_PAGE_MARGINS},header:{textAlign:"center",marginBottom:20},name:{fontSize:32,fontWeight:700,color:c,marginBottom:6},title:{fontSize:13,color:"#4b5563",marginBottom:12},contactGrid:{flexDirection:"row",justifyContent:"center",gap:8,marginTop:10},contactBox:{backgroundColor:"#fff",paddingHorizontal:10,paddingVertical:6,borderRadius:4,fontSize:8},summary:{backgroundColor:"#fff",padding:12,borderRadius:8,marginBottom:20,fontSize:10,color:"#4b5563",lineHeight:1.6},section:{marginBottom:20},sectionTitle:{fontSize:14,fontWeight:700,textAlign:"center",color:c,marginBottom:15},skillsGrid:{flexDirection:"row",flexWrap:"wrap",gap:8},skillCard:{flex:"0 0 22%",backgroundColor:"#fff",padding:10,borderRadius:8,textAlign:"center",borderTopWidth:4,borderTopColor:c,fontSize:9,fontWeight:500},card:{backgroundColor:"#fff",padding:12,borderRadius:8,marginBottom:12},cardHeader:{flexDirection:"row",justifyContent:"space-between",marginBottom:8,paddingBottom:8,borderBottomWidth:2,borderBottomColor:c},position:{fontSize:12,fontWeight:700},company:{fontSize:10,fontWeight:500,color:c,marginTop:2},dateRange:{fontSize:9,color:"#6b7280"},description:{fontSize:9,color:"#4b5563",lineHeight:1.5},descriptionItem:{marginBottom:2,paddingLeft:10}});
export const DeveloperGridPDF=({resumeData,themeColor="#8b5cf6"}:DeveloperGridPDFProps)=>{const s=createStyles(themeColor);const{personalInfo,experience,education,skills,sections}=resumeData;return(<Document><Page size="A4"style={s.page}><View style={s.header}><Text style={s.name}>{personalInfo.fullName}</Text>{personalInfo.title&&<Text style={s.title}>{personalInfo.title}</Text>}<View style={s.contactGrid}>{personalInfo.email&&<Text style={s.contactBox}>{personalInfo.email}</Text>}{personalInfo.phone&&<Text style={s.contactBox}>{personalInfo.phone}</Text>}{personalInfo.location&&<Text style={s.contactBox}>{personalInfo.location}</Text>}</View></View>{personalInfo.summary&&<Text style={s.summary}>{personalInfo.summary}</Text>}{skills&&skills.length>0&&<View style={s.section}><Text style={s.sectionTitle}>Technical Skills</Text><View style={s.skillsGrid}>{skills.map((skill,i)=><Text key={i}style={s.skillCard}>{skill.name}</Text>)}</View></View>}{experience&&experience.length>0&&<View style={s.section}><Text style={s.sectionTitle}>Professional Experience</Text>{experience.map((exp,i)=><View key={i}style={s.card}><View style={s.cardHeader}><View style={{flex:2}}><Text style={s.position}>{exp.position}</Text><Text style={s.company}>{exp.company}</Text></View><Text style={s.dateRange}>{exp.startDate}-{exp.endDate||"Present"}</Text></View>{exp.description&&<View style={s.description}>{exp.description.split("\n").map((item,j)=><Text key={j}style={s.descriptionItem}>â€¢ {item}</Text>)}</View>}</View>)}</View>}{education&&education.length>0&&<View style={s.section}><Text style={s.sectionTitle}>Education</Text><View style={{flexDirection:'row',flexWrap:'wrap',gap:12}}>{education.map((edu,i)=><View key={i}style={[s.card,{flex:'0 0 48%'}]}><Text style={s.position}>{edu.degree}</Text><Text style={[s.company,{color:"#4b5563"}]}>{edu.institution}</Text><Text style={s.dateRange}>{edu.graduationDate}</Text></View>)}</View></View>}{sections&&sections.map((sec,i)=><View key={i}style={s.section}><Text style={s.sectionTitle}>{sec.title}</Text><View style={s.card}><Text style={s.description}>{sec.content}</Text></View></View>)}</Page></Document>)};
export default DeveloperGridPDF;